<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Tool [M-PRESS]</title>
    <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/favicon.png">
    <meta property="og:title" content="M-PRESS Image Tool">
    <meta property="og:image" content="https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/favicon1024.png">
    <meta property="og:url" content="https://m-press.github.io/image-tool">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <style>
        body {
            font-family: 'Lexend Deca', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            display: flex;
            flex-direction: row;
            background-color: #fff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 24px;
            width: 720px;
        }

        .inputs {
            flex: 1;
            padding-right: 30px;
            border-right: 1px none #ccc;
        }

        .preview {
            flex: 1;
            padding-left: 20px;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 16px;
            margin-top: 10px;
            text-align: center;
        }

        p {
            font-size: 10px;
        }

        label {
            font-size: 14px;
            margin-bottom: 8px;
            display: block;
        }

        input[type="url"],
        select {
            font-family: 'Lexend Deca', sans-serif;
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            margin-bottom: 16px;
        }

        select {
            appearance: none;
            padding-right: 20px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right center;
            background-size: 24px 24px;
            cursor: pointer;
            width: 100%;
        }

        #backgroundUrl, #podiumDropdown, #customPodiumUrl {
            display: none;
        }

        #backgroundDropdown[value="custom"] ~ #backgroundUrl,
        #enablePodium:checked ~ #podiumDropdown,
        #podiumDropdown[value="custom"] ~ #customPodiumUrl {
            display: block;
        }

        #podiumLabel, #customPodiumLabel {
            display: none;
        }

        .preview {
            text-align: center;
            margin-top: 20px;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        button {
            background-color: #007bff;
            color: #fff;
            padding: 12px 20px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            width: 96%;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            margin-top: 0px;
        }

        .material-checkbox {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .material-checkbox + label::before {
            content: '\e835';
            font-family: 'Material Icons';
            display: inline-block;
            font-size: 24px;
            width: 24px;
            height: 24px;
            line-height: 1;
            text-align: center;
            margin-right: 8px;
            vertical-align: middle;
            cursor: pointer;
            color: #333;
        }

        .material-checkbox:checked + label::before {
            content: '\e834';
            color: #800006;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="inputs">
            <h1>M-PRESS Image Tool</h1>
            <label for="user1Avatar">1st Place</label>
            <input type="url" id="user1Avatar" placeholder="ğŸ¥‡ Player Avatar URL">
            
            <label for="user2Avatar">2nd Place</label>
            <input type="url" id="user2Avatar" placeholder="ğŸ¥ˆ Player Avatar URL">
            
            <label for="user3Avatar">3rd Place</label>
            <input type="url" id="user3Avatar" placeholder="ğŸ¥‰ Player Avatar URL">
            
            <label for="background">Background</label>
            <select id="backgroundDropdown">
                <option value="empty1">ğŸ”³ Default - Empty</option>
                <option disabled>ã€°ã€°ã€°ã€°ã€°ã€°ã€°ã€°ã€°ã€°</option>
                <option value="abstract1">ğŸŸ« Abstract 1</option>
                <option value="abstractfloor1">ğŸŸ¦ Abstract Floor 1</option>
                <option value="abstractfloor2">ğŸŸ¦ Abstract Floor 2</option>
                <option value="abstractfloor3">ğŸŸ¦ Abstract Floor 3</option>
                <option value="abstractfloor4">ğŸŸ¦ Abstract Floor 4</option>
                <option value="abstractfloor5">ğŸŸ¦ Abstract Floor 5</option>
                <option value="abstractfloor6">ğŸŸ¦ Abstract Floor 6</option>
                <option value="abstractfloor7">ğŸŸ¦ Abstract Floor 7</option>
                <option value="abstractfloor8">ğŸŸ¦ Abstract Floor 8</option>
                <option value="abstractfloor9">ğŸŸ¦ Abstract Floor 9</option>
                <option value="abstractfloor10">ğŸŸ¦ Abstract Floor 10</option>
                <option value="abstractfloor11">ğŸŸ¦ Abstract Floor 11</option>
                <option value="abstractfloor12">ğŸŸ¦ Abstract Floor 12</option>
                <option value="abstractfloor13">ğŸŸ¦ Abstract Floor 13</option>
                <option value="abstractfloor14">ğŸŸ¦ Abstract Floor 14</option>
                <option value="abstractfloor15">ğŸŸ¦ Abstract Floor 15</option>
                <option value="abstractfloor16">ğŸŸ¦ Abstract Floor 16</option>
                <option value="abstractfloor17">ğŸŸ¦ Abstract Floor 17</option>
                <option value="avatars1">ğŸŸ¦ Avatars 1</option>
                <option value="avatars2">ğŸŸ¦ Avatars 2</option>
                <option value="avatars3">â¬›ï¸ Avatars 3</option>
                <option value="avatars4">ğŸŸ© Avatars 4</option>
                <option value="avatars5">ğŸŸ© Avatars 5</option>
                <option value="avatars6">ğŸŸ© Avatars 6</option>
                <option value="avatars7">ğŸŸ¥ Avatars 7</option>
                <option value="avatars8">â¬œï¸ Avatars 8</option>
                <option value="avatars9">ğŸŸ¨ Avatars 9</option>
                <option value="basketball">â¬œï¸ Basket Ball</option>
                <option value="birthday">ğŸŸ¦ Birthday</option>
                <option value="bobba1">ğŸŸ¦ Bobba 1</option>
                <option value="bobba2">â¬›ï¸ Bobba 2</option>
                <option value="bonzai">ğŸŸ© Bonzai</option>
                <option value="brick">ğŸŸ¥ Brick</option>
                <option value="bubbles">ğŸŸ¦ Bubbles</option>
                <option value="bunny">â¬œï¸ Bunny</option>
                <option value="cars1">ğŸŸ¦ Cars 1</option>
                <option value="cars2">ğŸŸ© Cars 2</option>
                <option value="cheese">ğŸŸ¨ Cheese</option>
                <option value="chineseclouds1">ğŸŸ¥ Chinese Clouds 1</option>
                <option value="chineseclouds2">ğŸŸª Chinese Clouds 2</option>
                <option value="clouds1">ğŸŸ¦ Clouds 1</option>
                <option value="clouds2">â¬œï¸ Clouds 2</option>
                <option value="crosshatch">ğŸŸ¦ Crosshatch</option>
                <option value="duck1">ğŸŸ¨ Duck 1</option>
                <option value="duck2">â¬œï¸ Duck 2</option>
                <option value="duck3">ğŸŸ¨ Duck 3</option>
                <option value="fishbones1">â¬›ï¸ Fish Bones 1</option>
                <option value="fishbones2">ğŸŸ§ Fish Bones 2</option>
                <option value="field">ğŸŸ© Field</option>
                <option value="fireworks">ğŸŸ¦ Fireworks</option>
                <option value="floral1">ğŸŸ§ Floral 1</option>
                <option value="floral2">ğŸŸ¦ Floral 2</option>
                <option value="floral3">ğŸŸ© Floral 3</option>
                <option value="gifts1">ğŸŸ© Gifts 1</option>
                <option value="gifts2">ğŸŸ¥ Gifts 2</option>
                <option value="gold">ğŸŸ¨ Gold</option>
                <option value="grass">ğŸŸ© Grass</option>
                <option value="habbohotel">â¬œï¸ Habbo Hotel</option>
                <option value="hweenslime">ğŸŸ© Halloween Slime</option>
                <option value="ham">â¬œï¸ Ham</option>
                <option value="hcpillow">ğŸŸ¥ HC Pillow</option>
                <option value="hcroyal">â¬›ï¸ HC Royal</option>
                <option value="info">â¬›ï¸ Info</option>
                <option value="inside1">â¬›ï¸ Inside 1</option>
                <option value="inside2">ğŸŸ© Inside 2</option>
                <option value="inside3">ğŸŸ§ Inside 3</option>
                <option value="inside4">ğŸŸ© Inside 4</option>
                <option value="inside5">ğŸŸ§ Inside 5</option>
                <option value="inside6">ğŸŸ« Inside 6</option>
                <option value="inside7">ğŸŸ© Inside 7</option>
                <option value="inside8">â¬›ï¸ Inside 8</option>
                <option value="inside9">ğŸŸ¦ Inside 9</option>
                <option value="inside10">ğŸŸ¦ Inside 10</option>
                <option value="lace">â¬œï¸ Lace</option>
                <option value="lanterns">ğŸŸ¦ Lanterns</option>
                <option value="lilypads">ğŸŸ© Lily Pads</option>
                <option value="love">ğŸŸ¥ Love</option>
                <option value="loveduck">ğŸŸ¥ Love Duck</option>
                <option value="maze">â¬œï¸ Maze</option>
                <option value="metal">â¬›ï¸ Metal</option>
                <option value="music">â¬œï¸ Mode</option>
                <option value="music">â¬œï¸ Music</option>
                <option value="pattern1">ğŸŸ¦ Pattern 1</option>
                <option value="pets">ğŸŸ© Pets</option>
                <option value="pigs">ğŸŸ¥ Pigs</option>
                <option value="plasto">ğŸŸ© Plasto</option>
                <option value="pool1">ğŸŸ¦ Pool 1</option>
                <option value="pool2">ğŸŸ¦ Pool 2</option>
                <option value="romantic">ğŸŸ¥ Romantic</option>
                <option value="roses">ğŸŸ¥ Roses</option>
                <option value="science">ğŸŸ¦ Science</option>
                <option value="snow1">â¬œï¸ Snow 1</option>
                <option value="snow2">â¬›ï¸ Snow 2</option>
                <option value="snow3">ğŸŸ¦ Snow 3</option>
                <option value="snowflake1">â¬œï¸ Snowflake 1</option>
                <option value="snowflake2">ğŸŸ¦ Snowflake 2</option>
                <option value="space1">â¬›ï¸ Space 1</option>
                <option value="spiders">â¬›ï¸ Spiders</option>
                <option value="stitched">â¬œï¸ Stitched</option>
                <option value="stone">ğŸŸ« Stone</option>
                <option value="streets1">ğŸŸ¥ Streets 1</option>
                <option value="streets2">ğŸŸ¨ Streets 2</option>
                <option value="streets3">ğŸŸ© Streets 3</option>
                <option value="streets4">ğŸŸ¦ Streets 4</option>
                <option value="streets5">ğŸŸ¦ Streets 5</option>
                <option value="streets6">ğŸŸª Streets 6</option>
                <option value="stripes1">ğŸŸ¥ Stripes 1</option>
                <option value="stripes2">ğŸŸ§ Stripes 2</option>
                <option value="stripes3">ğŸŸ© Stripes 3</option>
                <option value="stripes4">ğŸŸ¦ Stripes 4</option>
                <option value="stripes5">ğŸŸ¦ Stripes 5</option>
                <option value="stripes6">ğŸŸ¥ Stripes 6</option>
                <option value="summer">ğŸŸ¦ Summer</option>
                <option value="teal">ğŸŸ¦ Teal</option>
                <option value="tiles1">ğŸŸ§ Tiles 1</option>
                <option value="tiles2">ğŸŸ¨ Tiles 2</option>
                <option value="tiles3">ğŸŸ¦ Tiles 3</option>
                <option value="tiles4">ğŸŸ© Tiles 4</option>
                <option value="tiles5">ğŸŸ© Tiles 5</option>
                <option value="tiles6">ğŸŸ§ Tiles 6</option>
                <option value="tiles7">ğŸŸ© Tiles 7</option>
                <option value="tiles8">ğŸŸ¦ Tiles 8</option>
                <option value="tiles9">ğŸŸ© Tiles 9</option>
                <option value="tonga">ğŸŸ© Tonga</option>
                <option value="val1">ğŸŸ¥ Valentines 1</option>
                <option value="val2">ğŸŸ¥ Valentines 2</option>
                <option value="vara1">ğŸŸ« Vara 1</option>
                <option value="vara2">ğŸŸ© Vara 2</option>
                <option value="vara3">ğŸŸ¥ Vara 3</option>
                <option value="water">ğŸŸ¦ Water</option>
                <option value="wooden">ğŸŸ¨ Wooden</option>
                <option value="x">â¬œï¸ eXpert</option>
                <option value="xmasstarsky">ğŸŸ¦ X-mas Star Sky</option>
                <option disabled>ã€°ã€°ã€°ã€°ã€°ã€°ã€°ã€°ã€°ã€°</option>
                <option value="custom">ğŸ”³ Custom</option>
            </select>

            <input type="url" id="backgroundUrl" placeholder="ğŸ–¼ Background Image URL">

            <div class="checkbox-container">
                <input type="checkbox" id="enablePodium" class="material-checkbox">
                <label for="enablePodium">Enable Podium Overlay</label>
            </div>

            <label for="podiumDropdown" id="podiumLabel">Podium Overlay</label>
            <select id="podiumDropdown">
                <option value="podium1">ğŸ† Podium 1</option>
                <option value="podium2">ğŸ† Podium 2</option>
                <option value="podium3">ğŸ† Podium 3</option>
                <option value="custom">ğŸ”³ Custom Podium</option>
            </select>

            <input type="url" id="customPodiumUrl" placeholder="ğŸ† Podium Image URL">
        </div>
        <div class="preview">
            <h3>Preview</h3>
            <canvas id="previewCanvas"></canvas>
            <p>Right click the image to save it or copy it to your clipboard.</p>
            <p>If you encounter a problem with podiums overlapping on top of avatars, try re-enabling the podium overlay setting.</p>
        </div>
    </div>

    <script>
        const user1AvatarInput = document.getElementById('user1Avatar');
        const user2AvatarInput = document.getElementById('user2Avatar');
        const user3AvatarInput = document.getElementById('user3Avatar');
        const backgroundDropdown = document.getElementById('backgroundDropdown');
        const backgroundUrlInput = document.getElementById('backgroundUrl');
        const enablePodiumCheckbox = document.getElementById('enablePodium');
        const podiumDropdown = document.getElementById('podiumDropdown');
        const customPodiumUrlInput = document.getElementById('customPodiumUrl');
        const podiumLabel = document.getElementById('podiumLabel');
        const customPodiumLabel = document.getElementById('customPodiumLabel');
        const previewCanvas = document.getElementById('previewCanvas');

        // Podium images
        const podiumImages = {
            podium1: 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/podium_overlay.png',
            podium2: 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/podium_overlay_2.png',
            podium3: 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/podium_overlay_3.png',
        };

        // Function to update the direction parameter in the URL
        function updateDirection(url, newDirection) {
            const regex = /([&?])direction=\d+/;
            if (regex.test(url)) {
                return url.replace(regex, `$1direction=${newDirection}`);
            } else {
                return `${url}${url.includes('?') ? '&' : '?'}direction=${newDirection}`;
            }
        }

        function generatePreview() {
            const user1AvatarUrl = user1AvatarInput.value;
            const user2AvatarUrl = user2AvatarInput.value;
            const user3AvatarUrl = user3AvatarInput.value;

            // Checks the selected option in the dropdown
            const selectedOption = backgroundDropdown.value;
            let backgroundImageUrl = '';

            switch (selectedOption) {
                case 'empty1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_empty.gif';
                    break;
                case 'abstract1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_pattern_abstract1.gif';
                    break;
                case 'abstractfloor1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_pattern_abstract2.gif';
                    break;
                case 'abstractfloor2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor2.gif';
                    break;
                case 'abstractfloor3':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor3.gif';
                    break;
                case 'abstractfloor4':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor4.gif';
                    break;
                case 'abstractfloor5':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor5.gif';
                    break;
                case 'abstractfloor6':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor6.gif';
                    break;
                case 'abstractfloor7':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor7.gif';
                    break;
                case 'abstractfloor8':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor8.gif';
                    break;
                case 'abstractfloor9':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor9.gif';
                    break;
                case 'abstractfloor10':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor10.gif';
                    break;
                case 'abstractfloor11':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor11.gif';
                    break;
                case 'abstractfloor12':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor12.gif';
                    break;
                case 'abstractfloor13':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor13.gif';
                    break;
                case 'abstractfloor14':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor14.gif';
                    break;
                case 'abstractfloor15':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor15.gif';
                    break;
                case 'abstractfloor16':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor16.gif';
                    break;
                case 'abstractfloor17':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/abstractfloor17.gif';
                    break;
                case 'avatars2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/av_blue2.gif';
                    break;
                case 'avatars3':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/av_gray.gif';
                    break;
                case 'avatars4':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/av_green1.gif';
                    break;
                case 'avatars5':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/av_green2.gif';
                    break;
                case 'avatars6':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/av_green3.gif';
                    break;
                case 'avatars7':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/av_pink.gif';
                    break;
                case 'avatars8':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/av_white.gif';
                    break;
                case 'avatars9':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/av_yellow.gif';
                    break;
                case 'basketball':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/basket_ball.gif';
                    break;
                case 'birthday':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_bday.png';
                    break;
                case 'bobba1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bobba1.gif';
                    break;
                case 'bobba2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bobba2.gif';
                    break;
                case 'bonzai':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bonzai.gif';
                    break;
                case 'brick':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_pattern_bricks.gif';
                    break;
                case 'bubbles':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bubble.gif';
                    break;
                case 'bunny':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_bunny.gif';
                    break;
                case 'cars1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/cars1.gif';
                    break;
                case 'cars2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/cars2.gif';
                    break;
                case 'cheese':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/cheese.gif';
                    break;
                case 'chineseclouds1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/chinese_clouds.gif';
                    break;
                case 'chineseclouds2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/chinese_clouds2.gif';
                    break;
                case 'clouds1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_clouds.gif';
                    break;
                case 'clouds2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/vara_4.gif';
                    break;
                case 'crosshatch':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_crosshatch.gif';
                    break;
                case 'duck1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/duck_back.gif';
                    break;
                case 'duck2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_duck.gif';
                    break;
                case 'duck3':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_duckt.gif';
                    break;
                case 'fishbones1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_fish.gif';
                    break;
                case 'fishbones2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_pattern_fish.gif';
                    break;
                case 'field':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/soccer.gif';
                    break;
                case 'fireworks':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/fireworks.gif';
                    break;
                case 'floral1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_pattern_floral_01.gif';
                    break;
                case 'floral2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_pattern_floral_02.gif';
                    break;
                case 'floral3':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_pattern_floral_03.gif';
                    break;
                case 'gifts1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/gifts.gif';
                    break;
                case 'gifts2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/gifts2.gif';
                    break;
                case 'gold':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/gold.gif';
                    break;
                case 'grass':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_grass.gif';
                    break;
                case 'habbohotel':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/habbo_hotel.gif';
                    break;
                case 'halloweenslime':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/hween_slime.gif';
                    break;
                case 'ham':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/ham_back.gif';
                    break;
                case 'hcpillow':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/HC_pillow.gif';
                    break;
                case 'hcroyal':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/HC_royal.gif';
                    break;
                case 'info':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_info.gif';
                    break;
                case 'inside1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/inside_1.gif';
                    break;
                case 'inside2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/inside_2.gif';
                    break;
                case 'inside3':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/inside_3.gif';
                    break;
                case 'inside4':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/inside_4.gif';
                    break;
                case 'inside5':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/inside_5.gif';
                    break;
                case 'inside6':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/inside_6.gif';
                    break;
                case 'inside7':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/inside_7.gif';
                    break;
                case 'inside8':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/inside_8.gif';
                    break;
                case 'inside9':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/inside_9.gif';
                    break;
                case 'inside10':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/inside_10.gif';
                    break;
                case 'lace':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/lace.gif';
                    break;
                case 'lanterns':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/blue_lanterns.gif';
                    break;
                case 'lilypads':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_frog.gif';
                    break;
                case 'love':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_love.gif';
                    break;
                case 'loveduck':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_loveduckt.gif';
                    break;
                case 'maze':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_tema.png';
                    break;
                case 'metal':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/metal.gif';
                    break;
                case 'mode':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/mode.gif';
                    break;
                case 'music':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/music.gif';
                    break;
                case 'pattern1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_pattern_bulb.gif';
                    break;
                case 'pets':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/pets.gif';
                    break;
                case 'pigs':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/pigs.gif';
                    break;
                case 'plasto':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/furni.gif';
                    break;
                case 'pool1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/pool1.gif';
                    break;
                case 'pool2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/pool2.gif';
                    break;
                case 'romantic':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/romantic.gif';
                    break;
                case 'roses':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/roses.gif';
                    break;
                case 'science':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/science.gif';
                    break;
                case 'snow1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_snow.1gif.gif';
                    break;
                case 'snow2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_snow2.gif';
                    break;
                case 'snow3':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_snow3.gif';
                    break;
                case 'snowflake1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_snowflake1.gif';
                    break;
                case 'snowflake2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_snowflake2.gif';
                    break;
                case 'space1':
                    backgroundImageUrl = 'https://habbo-stories-content.s3.amazonaws.com/servercamera/purchased/hhus/p-30409004-1565961405276.png';
                    break;
                case 'spiders':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/spiders.gif';
                    break;
                case 'stitched':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/stitched.gif';
                    break;
                case 'stone':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/stone.gif';
                    break;
                case 'streets1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/streets_1.gif';
                    break;
                case 'streets2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/streets_2.gif';
                    break;
                case 'streets3':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/streets_3.gif';
                    break;
                case 'streets4':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/streets_4.gif';
                    break;
                case 'streets5':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/streets_5.gif';
                    break;
                case 'streets6':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/streets_6.gif';
                    break;
                case 'stripes1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/stripes.gif';
                    break;
                case 'stripes2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg3.png';
                    break;
                case 'stripes3':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/greenbg.gif';
                    break;
                case 'stripes4':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bgblue.gif';
                    break;
                case 'stripes5':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/stripegb.jpg';
                    break;
                case 'stripes6':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/vara.gif';
                    break;
                case 'summer':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/beach.gif';
                    break;
                case 'teal':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_teal.gif';
                    break;
                case 'tiles1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_ool.gif';
                    break;
                case 'tiles2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_tiles.gif';
                    break;
                case 'tiles3':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_ool2.gif';
                    break;
                case 'tiles4':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/tile_2.gif';
                    break;
                case 'tiles5':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/tile_3.gif';
                    break;
                case 'tiles6':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/tile_4.gif';
                    break;
                case 'tiles7':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/tile_5.gif';
                    break;
                case 'tiles8':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/tile_6.gif';
                    break;
                case 'tiles9':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/tile_7.gif';
                    break;
                case 'tonga':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_tonga.gif';
                    break;
                case 'val1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_val.gif';
                    break;
                case 'val2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_val2.gif';
                    break;
                case 'vara1':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/vara_1.gif';
                    break;
                case 'vara2':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/vara_2.gif';
                    break;
                case 'vara3':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/vara_3.gif';
                    break;
                case 'water':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_water.gif';
                    break;
                case 'wooden':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_wooden.gif';
                    break;
                case 'x':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/bg_xer.gif';
                    break;
                case 'xmasstarsky':
                    backgroundImageUrl = 'https://raw.githubusercontent.com/M-PRESS/image-tool/main/images/xmas_bgpattern_starsky.gif';
                    break;
                case 'custom':
                    backgroundImageUrl = backgroundUrlInput.value;
                    break;
                default:
                    break;
            }

            // Player Avatar URLs are modified and directions based on podium checkbox
            const sizeParameter = '&size=m';
            const direction1 = enablePodiumCheckbox.checked ? 3 : 2;
            const direction2 = enablePodiumCheckbox.checked ? 2 : 3;
            const direction3 = enablePodiumCheckbox.checked ? 4 : 4;
            const modifiedUser1AvatarUrl = updateDirection(`${user1AvatarUrl}&size=${sizeParameter}`, direction1);
            const modifiedUser2AvatarUrl = updateDirection(`${user2AvatarUrl}&size=${sizeParameter}`, direction2);
            const modifiedUser3AvatarUrl = updateDirection(`${user3AvatarUrl}&size=${sizeParameter}`, direction3);

            const canvas = previewCanvas;
            const ctx = canvas.getContext('2d');
            canvas.width = 320;
            canvas.height = 320;

            const backgroundImage = new Image();
            backgroundImage.src = backgroundImageUrl;
            backgroundImage.onload = () => {
                const pattern = ctx.createPattern(backgroundImage, 'repeat');
                ctx.fillStyle = pattern;

                // Draws the repeating background pattern
                ctx.rect(0, 0, canvas.width, canvas.height);
                ctx.fill();

                // Draws podium overlay
                if (enablePodiumCheckbox.checked) {
                    const selectedPodium = podiumDropdown.value;
                    let podiumOverlayUrl = '';

                    if (selectedPodium === 'custom') {
                        podiumOverlayUrl = customPodiumUrlInput.value;
                    } else {
                        podiumOverlayUrl = podiumImages[selectedPodium]; // Uses the correct podium image
                    }

                    const podiumOverlay = new Image();
                    podiumOverlay.src = podiumOverlayUrl;
                    podiumOverlay.onload = () => {
                        ctx.drawImage(podiumOverlay, 0, 0, canvas.width, canvas.height);
                    };
                }

                const user1Avatar = new Image();
                user1Avatar.src = modifiedUser1AvatarUrl;
                user1Avatar.onload = () => {
                    let x1, y1;

                    // Checks if the podium overlay checkbox is checked
                    if (enablePodiumCheckbox.checked) {
                        x1 = 128;
                        y1 = 70;
                    } else {
                        x1 = 64;
                        y1 = 96;
                    }

                    ctx.drawImage(user1Avatar, x1, y1);

                    const user2Avatar = new Image();
                    user2Avatar.src = modifiedUser2AvatarUrl;
                    user2Avatar.onload = () => {
                        let x2, y2;

                        // Checks if the podium overlay checkbox is checked
                        if (enablePodiumCheckbox.checked) {
                            x2 = 94;
                            y2 = 99;
                        } else {
                            x2 = 128;
                            y2 = 96;
                        }

                        ctx.drawImage(user2Avatar, x2, y2);

                        const user3Avatar = new Image();
                        user3Avatar.src = modifiedUser3AvatarUrl;
                        user3Avatar.onload = () => {
                            let x3, y3;

                            // Checks if the podium overlay checkbox is checked
                            if (enablePodiumCheckbox.checked) {
                                x3 = 162;
                                y3 = 110;
                            } else {
                                x3 = 192;
                                y3 = 96;
                            }

                            ctx.drawImage(user3Avatar, x3, y3);
                        };
                    };
                };
            };
        }

        function updatePreview() {
            const canvas = previewCanvas;
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            generatePreview();
        }

        backgroundDropdown.addEventListener('change', () => {
            const selectedOption = backgroundDropdown.value;
            if (selectedOption === 'custom') {
                backgroundUrlInput.style.display = 'block';
            } else {
                backgroundUrlInput.style.display = 'none';
            }
            updatePreview();
        });

        podiumDropdown.addEventListener('change', () => {
            const selectedPodium = podiumDropdown.value;
            if (selectedPodium === 'custom') {
                customPodiumUrlInput.style.display = 'block';
            } else {
                customPodiumUrlInput.style.display = 'none';
            }
            updatePreview();
        });

        user1AvatarInput.addEventListener('input', updatePreview);
        user2AvatarInput.addEventListener('input', updatePreview);
        user3AvatarInput.addEventListener('input', updatePreview);
        backgroundUrlInput.addEventListener('input', updatePreview);
        enablePodiumCheckbox.addEventListener('change', () => {
            // Toggles visibility of podium dropdown and label
            const enablePodium = enablePodiumCheckbox.checked;
            podiumDropdown.style.display = enablePodium ? 'block' : 'none';
            podiumLabel.style.display = enablePodium ? 'block' : 'none';
            updatePreview();
        });

        customPodiumUrlInput.addEventListener('input', updatePreview);

        // Triggers an initial update to show the default overlay image
        updatePreview();
    </script>
</body>
</html>
